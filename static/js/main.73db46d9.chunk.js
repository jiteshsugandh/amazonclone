(this.webpackJsonpamazonclone=this.webpackJsonpamazonclone||[]).push([[0],{103:function(e,t,c){},105:function(e,t,c){},107:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c.n(n),a=c(30),i=c.n(a),r=(c(61),c(50)),o=c(8),l=(c(62),c(63),c(51)),d=c.n(l),j=c(52),u=c.n(j),b=c(15),h=c(2),m=Object(n.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(h.jsx)(m.Provider,{value:Object(n.useReducer)(t,c),children:s})},p=function(){return Object(n.useContext)(m)},x=c(38),g=x.a.initializeApp({apiKey:"AIzaSyCICxc4AE_cvVHvFjXzJnM-uSvjePr29sA",authDomain:"clone-1ef4f.firebaseapp.com",projectId:"clone-1ef4f",storageBucket:"clone-1ef4f.appspot.com",messagingSenderId:"27972736253",appId:"1:27972736253:web:61f15c7f04c455047c9a94",measurementId:"G-F3BRZQ51BG"}).firestore(),f=x.a.auth();var v=function(){var e=p(),t=Object(o.a)(e,2),c=t[0],n=c.basket,s=c.user;return t[1],Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(b.b,{to:"/",children:Object(h.jsx)("img",{className:"header_logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),Object(h.jsxs)("div",{className:"header_search",children:[Object(h.jsx)("input",{className:"header_searchInput",type:"text"}),Object(h.jsx)(d.a,{className:"header_searchIcon"})]}),Object(h.jsxs)("div",{className:"header_nav",children:[Object(h.jsx)(b.b,{to:!s&&"/login",children:Object(h.jsxs)("div",{onClick:function(){s&&f.signOut()},className:"header_option",children:[Object(h.jsxs)("span",{className:"header_optionLine1",children:["Hello ",s?s.email:"Guest"," "]}),Object(h.jsxs)("span",{className:"header_optionLine2",children:[" ",s?"Sign out":"Sign In"," "]})]})}),Object(h.jsx)(b.b,{to:"/Orders",children:Object(h.jsxs)("div",{className:"header_option",children:[Object(h.jsx)("span",{className:"header_optionLine1",children:"Returns "}),Object(h.jsx)("span",{className:"header_optionLine2",children:"& Orders "})]})}),Object(h.jsxs)("div",{className:"header_option",children:[Object(h.jsx)("span",{className:"header_optionLine1",children:"Your "}),Object(h.jsx)("span",{className:"header_optionLine2",children:"Prime "})]}),Object(h.jsx)(b.b,{to:"/Checkout",children:Object(h.jsxs)("div",{className:"header_optionBasket",children:[Object(h.jsx)(u.a,{}),Object(h.jsxs)("span",{className:"header_optionLine2 header_basketCount",children:[null===n||void 0===n?void 0:n.length," "]})]})})]})]})};c(77),c(78);var A=function(e){var t=e.id,c=e.title,n=e.image,s=e.price,a=e.rating,i=p(),r=Object(o.a)(i,2),l=r[0].basket,d=r[1];return console.log("this is the basket >>>>",l),Object(h.jsxs)("div",{className:"product",children:[Object(h.jsxs)("div",{className:"product_info",children:[Object(h.jsxs)("p",{children:[" ",c," "]}),Object(h.jsxs)("p",{className:"product_price",children:[Object(h.jsx)("strong",{children:s}),Object(h.jsx)("small",{children:"\u20b9"})]}),Object(h.jsx)("div",{className:"product_rating",children:Array(a).fill().map((function(e,t){return Object(h.jsx)("p",{children:"\u2b50"})}))})]}),Object(h.jsx)("img",{src:n,alts:""}),Object(h.jsx)("button",{className:"addToBasket",onClick:function(){d({type:"ADD_TO_BASKET",item:{id:t,title:c,image:n,price:s,rating:a}})},children:" Add to Basket"})]})};var N=function(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)("div",{className:"home_container",children:Object(h.jsx)("img",{className:"home_image",src:"https://beyondthekop.com/wp-content/uploads/2020/08/prime.jpg",alt:""})}),Object(h.jsxs)("div",{className:"home_row",children:[Object(h.jsx)(A,{id:"1",title:"Asus ROG Phone 5 SD888 5G 256GB 16GB RAM International Version - Phantom Black",price:49999,image:"https://images-na.ssl-images-amazon.com/images/I/312-4NvzgeL.jpg",rating:5}),Object(h.jsx)(A,{id:"2",title:"Friends Ceramic Coffee Mug with Keychain and Key Ring Set",price:375,image:"https://m.media-amazon.com/images/I/71cO5sRp9fL._AC_UL480_FMwebp_QL65_.jpg",rating:4})]}),Object(h.jsxs)("div",{className:"home_row",children:[Object(h.jsx)(A,{id:"3",title:"PABULUM Compatible with AirPods Pro 2019 Case Protective Cover",price:499,image:"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcRohn6wX0ook7u5SlGi9EbVV3n2MM_AUBkROLJpk5OSN7pud-Iau5kpnymhilj5w1LZ4-HtMjiVMbgo4pUo46QmESiwWRcIjK3AGhHRiPM&usqp=CAc",rating:4}),Object(h.jsx)(A,{id:"4",title:"Limited edition Official Harry Potter Marauder\u2019s Map",price:799,image:"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQoysSKoJVnepOr9m1E9QOiEoSlZnvG70-OnznP7nzGfZZB4xt9EtqBcL5I2wy6aRY6FQGF3Y41z2RO7vIr7YHPIvA0PQW__6H66Aal-J99mri8AAlMPa4X0g&usqp=CAc",rating:5}),Object(h.jsx)(A,{id:"5",title:"Iron man Bobblehead with Stand and Mobile Holder",price:1125,image:"https://m.media-amazon.com/images/I/61zM1TixQLL._AC_UL480_FMwebp_QL65_.jpg",rating:3})]}),Object(h.jsx)("div",{className:"home_row",children:Object(h.jsx)(A,{id:"6",title:"Mi 80 cm (32 inches) HD Ready Android Smart LED TV 4A PRO|L32M5-AL (Black)",price:15999,image:"https://m.media-amazon.com/images/I/71Z+l05eSIS._AC_UY327_FMwebp_QL65_.jpg",rating:4})})]})},k=c(10);c(79),c(80);var y=function(e){var t=e.id,c=e.image,n=e.title,s=e.price,a=e.rating,i=e.hideButton,r=p(),l=Object(o.a)(r,2),d=(l[0].basket,l[1]);return Object(h.jsxs)("div",{className:"CheckoutProduct",children:[Object(h.jsx)("img",{className:"CheckoutProduct_image",src:c}),Object(h.jsxs)("div",{className:"CheckoutProduct_info",children:[Object(h.jsxs)("p",{className:"CheckoutProduct_title",children:[" ",n," "]}),Object(h.jsxs)("p",{className:"CheckoutProduct_price",children:[Object(h.jsx)("small",{children:" \u20b9 "}),Object(h.jsx)("strong",{children:s})]}),Object(h.jsx)("div",{className:"CheckoutProduct_rating",children:Array(a).fill().map((function(e,t){return Object(h.jsx)("p",{children:"\u2b50"})}))}),!i&&Object(h.jsx)("button",{className:"remove",onClick:function(){d({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove From Basket"})]})]})},C=(c(81),c(26)),S=c.n(C),P=c(24),I=c(21),B=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},z=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(I.a)(Object(I.a)({},e),{},{basket:[].concat(Object(P.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(I.a)(Object(I.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(P.a)(e.basket);return c>=0?n.splice(c,1):console.warn("Cant remove product (id: ${action.id}) as its not in basket!"),Object(I.a)(Object(I.a)({},e),{},{basket:n});case"SET_USER":return Object(I.a)(Object(I.a)({},e),{},{user:t.user});default:return e}};var T=function(){var e=Object(k.f)(),t=p(),c=Object(o.a)(t,2),n=c[0].basket;return c[1],Object(h.jsxs)("div",{className:"Subtotal",children:[Object(h.jsx)(S.a,{renderText:function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["Subtotal (",n.length," items) :",Object(h.jsx)("strong",{children:e})]}),Object(h.jsxs)("small",{className:"subtotal_gift",children:[Object(h.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:B(n),displayType:"text",thousandSeperator:!0,suffix:"\u20b9"}),Object(h.jsx)("button",{onClick:function(t){return e.push("/Payment")},children:"Proceed to Checkout"})]})};var G=function(){var e=p(),t=Object(o.a)(e,2),c=t[0],n=c.basket,s=c.user;return t[1],Object(h.jsxs)("div",{className:"Checkout",children:[Object(h.jsxs)("div",{className:"checkout_left",children:[Object(h.jsx)("img",{className:"checkout_ad",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img19/AmazonPay/PrimeRewards/LP_Revamp/PC_Header_Banner._CB468631809_.jpg",alts:""}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h3",{children:[" Hello ",null===s||void 0===s?void 0:s.email," "]}),Object(h.jsx)("h2",{className:"checkout_title",children:" Your Shopping Basket"}),n.map((function(e){return Object(h.jsx)(y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),Object(h.jsx)("div",{className:"checkout_right",children:Object(h.jsx)(T,{})})]})};c(83);var L=function(){var e=Object(k.f)(),t=Object(n.useState)(""),c=Object(o.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(""),r=Object(o.a)(i,2),l=r[0],d=r[1];return Object(h.jsxs)("div",{className:"Login",children:[Object(h.jsx)(b.b,{to:"/",children:Object(h.jsx)("img",{className:"login_logo",src:"data:image/png;base64,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"})}),Object(h.jsxs)("div",{className:"login_container",children:[Object(h.jsx)("h1",{children:"Sign In"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("h5",{children:"E-mail"}),Object(h.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("h5",{children:"Password"}),Object(h.jsx)("input",{type:"password",value:l,onChange:function(e){return d(e.target.value)}}),Object(h.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),f.signInWithEmailAndPassword(s,l).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login_signInButton",children:"Sign In"})]}),Object(h.jsx)("p",{children:"By signing-in you agree to the Amazon's conditions of the Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Internet-Based Ads Notice."}),Object(h.jsx)("button",{onClick:function(t){t.preventDefault(),f.createUserWithEmailAndPassword(s,l).then((function(t){console.log(t),t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login_registerButton",children:"Create your Amazon Account"})]})]})},E=c(28),M=c.n(E),R=c(37),w=c(25),_=(c(85),c(53)),V=c.n(_).a.create({baseURL:"http://localhost:5001/clone-1ef4f/us-central1/api"});var H=function(){var e=p(),t=Object(o.a)(e,2),c=t[0],s=c.basket,a=c.user,i=t[1],r=Object(k.f)(),l=Object(w.useStripe)(),d=Object(w.useElements)(),j=Object(n.useState)(!1),u=Object(o.a)(j,2),m=u[0],O=u[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),v=f[0],A=f[1],N=Object(n.useState)(null),C=Object(o.a)(N,2),P=C[0],I=C[1],z=Object(n.useState)(!0),T=Object(o.a)(z,2),G=T[0],L=T[1],E=Object(n.useState)(!0),_=Object(o.a)(E,2),H=_[0],q=_[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V({method:"post",url:"/payments/create?Total= ".concat(100*B(s))});case 2:t=e.sent,q(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);var W=function(){var e=Object(R.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),A(!0),e.next=4,l.confirmCardPayment(H,{payment_method:{card:d.getElement(w.CardElement)}}).then((function(e){var t=e.paymentIntent;g.collection("users").doc(null===a||void 0===a?void 0:a.uid).collection("orders").doc(t.id).set({basket:s,amount:t.amount,created:t.created}),O(!0),I(null),A(!1),i({type:"EMPTY_BASKET"}),r.replaceState("/Orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"payment",children:Object(h.jsxs)("div",{className:"payment_container",children:[Object(h.jsxs)("h1",{children:["Checkout (",Object(h.jsxs)(b.b,{to:"/Checkout",children:[null===s||void 0===s?void 0:s.length," items"]}),")"]}),Object(h.jsxs)("div",{className:"payment_section",children:[Object(h.jsx)("div",{className:"payment_title",children:Object(h.jsx)("h3",{children:" Delivery Address"})}),Object(h.jsxs)("div",{className:"payment_address",children:[Object(h.jsx)("p",{children:null===a||void 0===a?void 0:a.email}),Object(h.jsx)("p",{children:"116, geeta bhawan, Queta colony"}),Object(h.jsx)("p",{children:"Nagpur, Maharashtra"})]})]}),Object(h.jsxs)("div",{className:"payment_section",children:[Object(h.jsx)("div",{className:"payment_title",children:Object(h.jsx)("h3",{children:"Review Items and Delivery "})}),Object(h.jsx)("div",{className:"payment_items",children:s.map((function(e){return Object(h.jsx)(y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),Object(h.jsxs)("div",{className:"payment_section",children:[Object(h.jsx)("div",{className:"payment_title",children:Object(h.jsx)("h3",{children:"Payment Method "})}),Object(h.jsx)("div",{className:"payment_details",children:Object(h.jsxs)("form",{onSubmit:W,children:[Object(h.jsx)(w.CardElement,{onChange:function(e){L(e.empty),I(e.error?e.error.message:"")}}),Object(h.jsxs)("div",{className:"payment_priceContainer",children:[Object(h.jsx)(S.a,{renderText:function(e){return Object(h.jsxs)("h3",{children:["Order Total: ",e," "]})},decimalScale:2,value:B(s),displayType:"text",thousandSeperator:!0,suffix:"\u20b9"}),Object(h.jsx)("button",{disabled:v||G||m,children:Object(h.jsx)("span",{children:v?Object(h.jsx)("p",{children:"Processing "}):"Buy Now"})})]}),P&&Object(h.jsx)("div",{children:P})]})})]})]})})},q=c(54),W=(c(103),c(55)),Y=c.n(W);c(105);var F=function(e){var t,c=e.order;return Object(h.jsxs)("div",{classname:"order",children:[Object(h.jsx)("h2",{children:"Order"}),Object(h.jsx)("p",{children:Y.a.unix(c.data.created).format("MMMM Do YYYY, h:mma")}),Object(h.jsx)("p",{className:"order_id",children:Object(h.jsx)("small",{children:c.id})}),null===(t=c.data.basket)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),Object(h.jsx)(S.a,{renderText:function(e){return Object(h.jsxs)("h3",{className:"order_total",children:["Order Total: ",e]})},decimalScale:2,value:c.data.amount/100,displayType:"text",thousandSeperator:!0,suffix:"\u20b9"})]})};var J=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=p(),i=Object(o.a)(a,2),r=i[0],l=(r.basket,r.user);return i[1],Object(n.useEffect)((function(){l?g.collection("users").doc(null===l||void 0===l?void 0:l.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):s([])}),[]),Object(h.jsxs)("div",{classname:"orders",children:[Object(h.jsx)("h1",{children:"Your Orders"}),Object(h.jsx)("div",{className:"orders_order",children:null===c||void 0===c?void 0:c.map((function(e){return Object(h.jsx)(F,{order:e})}))})]})},D=Object(q.a)("pk_test_51JEz2YSJr1dGGnXFvgpI39pyCjT6b8ZgfMcsY07HGdKA1LidDjFJh8uIbv1Fl2l57DwNjlNmm8z4JArt3tmazWnu00i6RmYIw8");var Z=function(){var e=p(),t=Object(o.a)(e,2);Object(r.a)(t[0]);var c=t[1];return Object(n.useEffect)((function(){f.onAuthStateChanged((function(e){console.log("user is >>>",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(h.jsx)(b.a,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(k.c,{children:[Object(h.jsxs)(k.a,{path:"/Orders",children:[Object(h.jsx)(v,{}),Object(h.jsx)(J,{})]}),Object(h.jsx)(k.a,{path:"/login",children:Object(h.jsx)(L,{})}),Object(h.jsxs)(k.a,{path:"/checkout",children:[Object(h.jsx)(v,{}),Object(h.jsx)(G,{})]}),Object(h.jsxs)(k.a,{path:"/Payment",children:[Object(h.jsx)(v,{}),Object(h.jsx)(w.Elements,{stripe:D,children:Object(h.jsx)(H,{})})]}),Object(h.jsxs)(k.a,{path:"/",children:[Object(h.jsx)(v,{}),Object(h.jsx)(N,{})]})]})})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,119)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(O,{initialState:{basket:[],user:null},reducer:z,children:Object(h.jsx)(Z,{})})}),document.getElementById("root")),U()},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){},85:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.73db46d9.chunk.js.map